<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0043)https://ki.staszic.waw.pl/task.php?name=fac -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Silnie - Kolko Informatyczne</title>
  
  <link rel="stylesheet" href="./[157] - Silnie - Kolko Informatyczne_files/style.css" type="text/css">
        
</head>

<body>

<div id="menu">
<h2>Kółko informatyczne</h2>
<a href="https://ki.staszic.waw.pl/index.php">Aktualności</a><br>
<a href="https://ki.staszic.waw.pl/about.php">O kółku</a><br>
<a href="https://ki.staszic.waw.pl/materialy.php">Materiały</a><br>
<br>
<strong><a href="https://sio2.staszic.waw.pl/c/">Staszicowe SIO2</a></strong><br>
<br>
<strong><a href="https://ki.staszic.waw.pl/forum">Forum</a></strong><br>
<br>
<a href="https://ki.staszic.waw.pl/tasks.php">Zadania</a><br>

<br>
<a href="https://ki.staszic.waw.pl/submit.php">Wysyłanie rozwiązań</a><br>
<a href="https://ki.staszic.waw.pl/submits.php">Moje zgłoszenia</a><br>
<br><a href="https://ki.staszic.waw.pl/newrank.php">Ranking</a><br>
<br>
<!--<a href="tech.php">Ustalenia techniczne</a><br>
<a href="public.php">Rozwiązania wzorcowe</a><br> <br>-->
<a href="https://ki.staszic.waw.pl/user.php">Moje dane</a><br>
<a href="https://ki.staszic.waw.pl/pass.php">Zmień hasło</a><br>
<br>Jesteś zalogowany jako:<div id="login"><b>pm12</b><br>
</div>
<a href="https://ki.staszic.waw.pl/index.php?logout=1">Wyloguj</a><br>

<br><br><div id="adv"> <a href="http://www.staszic.waw.pl/">XIV LO im. S. Staszica</a>
<div class="clock">
2021-02-21 21:06:27  
  </div> </div>
</div>

<div id="body">


<h1>Silnie</h1>

<p>
 Tomek zajmował się bardzo trudnym problemem kombinatorycznym.
  Jako wynik otrzymał dość długi napis postaci:
</p>
<p>
</p><pre>p_1!p_2! ... p_n! 
-----------------
q_1!q_2! ... q_m!</pre>
<p></p>
<p>
  Nie jest z tego zbyt zadowolony, gdyż nie wiadomo nawet, czy owa liczba jest całkowita.
  Z tego powodu prosi Cię o pomoc.
  Chciałby, żebyś przekształcił wyrażenie do postaci 
</p>
<p>
  </p><pre>r_1!<sup>s_1</sup> * r_2!<sup>s_2</sup> ... r_k!<sup>s_k</sup> * t</pre>
<p></p>
<p>
  gdzie r_i są liczbami całkowitymi większymi od 1, w kolejności ściśle malejącej,
  a s_i oraz t są dodatnimi liczbami całkowitymi.
  Spośród możliwych rozwiązań, Tomek chciałby dostać postać, w której r_1 jest jak
  największe, wśród tych taką, w której s_1 jest największe, wśród tych tą o największym
  r_2, itd.
  Na samym końcu chciałby, aby t było jak najmniejsze 
  (czyli takie, że już nie można dodać żadnego nowego wyrazu postaci r!^s).
  Tomka nie interesuje t, bo w problemach kombinatorycznych ważne są tylko silnie.
</p>
<p>
</p><h2>Wejście</h2>

  W pierwszym wierszu standardowego wejścia znajduje się liczby całkowite n i m
  (1 &lt;= n,m &lt;= 1000).
  Drugi wiersz zawiera n liczb całkowitych p_i (1 &lt;= p_i &lt;= 10000),
  a trzeci - m liczb całkowitych q_i (1 &lt;= q_i &lt;= 10000).
<p></p>
<p>
</p><h2>Wyjście</h2>

  Na standardowe wyjście Twój program powinien wypisać liczbę k.
  Jeśli wynik Tomka nie jest całkowity, wypisz k=-1.
  Jeśli wynik jest całkowity, ale nie dzieli się przez żadne silnie, wypisz k=0.
  W przeciwnym razie wypisz k&gt;0, a następnie k wierszy, z których i-ty będzie
  zawierał r_i oraz s_i.
<p></p>
 <p>
 </p><h2>Przykład</h2>
<pre>Dla danych:
4 2
9 2 2 2
3 4

Poprawnym wyjściem jest:
2
7 1
2 2
</pre>
 <p></p>
<p id="subLink"><a href="https://ki.staszic.waw.pl/submit.php?task=fac" class="cButton">[Zgłoś rozwiązanie]</a> &nbsp;&nbsp;<a href="https://ki.staszic.waw.pl/submits.php?task=fac" class="cButton">[Moje zgłoszenia]</a></p>
<div id="foot">

<div class="clock">
2021-02-21 21:06:27
</div>
Kółko informatyczne
<br>
<a href="mailto:mareksom+ki@staszic.waw.pl">Marek Sommer</a>, <a href="mailto:jsmigiel+ki@staszic.waw.pl">Joanna Śmigielska</a>,<br>
<span class="old_admins"><a href="mailto:matrach+ki@staszic.waw.pl">Maciej Matraszek</a>, <a href="mailto:saddam+ki@staszic.waw.pl">Michał Adamczyk</a>, <a href="mailto:winemore+ki@staszic.waw.pl">Maciej Dębski</a></span>
</div>

</div>




</body></html>